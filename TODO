* Why is escape needed? Is it doing the right escaping?
* Unit testing: need a way to mock the chrome interfaces?
* The newtab logic - do we need it? I think not.

Matching algorithm
==================

Have to match both title and URL. Title gets higher score? It's important to
float the actually better suggestions to the top.

It even makes sense to add fuzzy-matching, with lower scores. This should take
care of spelling errors, shortcuts, etc. Something like
http://ginstrom.com/scribbles/2007/12/01/fuzzy-substring-matching-with-levenshtein-distance-in-python/

Here's a survey of existing techniques to do the same thing.

dmenu
-----

Dmenu has a simple heuristic: it looks for the word (each word in the input,
broken by whitespace) in the list of options. If the word matches one of the
options exactly, it gets priority. If the word is a prefix, it gets priority
too. Words that are just substrings get last priority. 

We can use the same approach, and bump scoring for prefixes. It's important (I
don't think switch-to-tab does it currently).

